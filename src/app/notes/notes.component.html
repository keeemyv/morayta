<app-navbar></app-navbar>
<div class="page-container">
  <div class="card" *ngFor="let note of notes; let i = index">
    <div class="card-body" (click)="editCard(note)">
      <ng-container *ngIf="!editMode || note !== selectedNote; else editModeTemplate">
        <h3 class="card-title">{{ note.title }}</h3>
        <p class="card-text">{{ note.content }}</p>
      </ng-container>
      <ng-template #editModeTemplate>
        <input type="text" [(ngModel)]="selectedNote.title" class="form-control mb-2" />
        <textarea [(ngModel)]="selectedNote.content" class="form-control mb-2" rows="4"></textarea>
        <button type="button" (click)="saveChanges()" class="btn btn-primary mr-2">Save</button>
        <button type="button" (click)="cancelEdit()" class="btn btn-secondary">Cancel</button>
      </ng-template>
    </div>
  </div>
  
  <button class="btn btn-success mt-5" *ngIf="!addMode" (click)="enterAddMode()">
    Add Note
  </button>
  <button class="btn btn-dark mt-5" *ngIf="addMode" (click)="cancelAddMode()">
    Cancel
  </button>
  
  <form *ngIf="addMode" (submit)="onSubmit()" class="my-4">
    <div class="form-group">
      <label for="title">Title:</label>
      <input
        type="text"
        id="title"
        name="title"
        [(ngModel)]="title"
        class="form-control"
        required
      />
    </div>
    <div class="form-group">
      <label for="content">Content:</label>
      <textarea
        id="content"
        name="content"
        [(ngModel)]="content"
        class="form-control"
        rows="4"
        required
      ></textarea>
    </div>
    <button type="submit" class="btn btn-success submit">Submit Note</button>
  </form>
  
</div>